<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Google Fonts -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
	<!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	
	<title> Vue Image Recognition </title>
	
	<style type="text/css">
		.title {
			font-size: 32px;
			text-align: center;
			font-family: "Roboto", sans-serif;
		}
		.search_bar {
			display: flex;
			flex-direction: row;			
		}
		.search_button {
			padding: 5px 5px;
		}
		.search_input {
			flex-grow: 1;
		}
		.card_body {
			display: flex;
			flex-direction: column;			
		}
	</style>
</head>
<body>

	<div id="app">
		<div>
			<p class="title"> VueImage Recognition </p>
			<div class="search_bar">
				<button
					v-on:click="searchImage()"
					class="btn btn-dark">
					Search
				</button>
				<input v-model.trim="query" placeholder="Search an image..." class="search_input form-control"/>
			</div>
			<p> {{ query }} </p>
			<p> {{ loading }} </p>

			<!-- <div v-if="!loading && images?.length">
				<div v-for="image in images" :key="image.id" class="card">
					<img v-bind:src="image.url" class="card-img-top" v-bind:alt="image.alt_description"> 
					<div class="card-body card_body">
						<p> Created: {{ image.created_at }} </p>
						<p> Likes: {{ image.likes }} </p>
					</div>
				</div>
			</div>
			<div v-else class="spinner-border text-secondary" role="status">
  				<span class="visually-hidden">Loading...</span>
			</div> -->

			<div
				v-if="!loading && images?.length" 
				id="unplash-carousel" 
				class="carousel slide" 
				data-bs-ride="carousel"
			>
				<div class="carousel-inner">
					<div 
						v-for="(image, index) in images" 
						v-bind:index="index"
						:key="image.id" 
					>
						<div v-if="index === 1" class="carousel-item active">
							<img v-bind:src="image.url" class="d-block w-100" v-bind:alt="image.alt_description">
							<div class="carousel-caption d-none d-md-block">
								<h5> {{ image.created_at }} </h5>
								<p> {{ image.likes }} üëç </p>
								<h1> {{index}} </h1>
							</div>
						</div>
						<div v-else class="carousel-item">
							<img v-bind:src="image.url" class="d-block w-100" v-bind:alt="image.alt_description">
							<div class="carousel-caption d-none d-md-block">
								<h5> {{ image.created_at }} </h5>
								<p> {{ image.likes }} üëç </p>
								<h1> {{index}} </h1>
							</div>
						</div>
					</div>
				</div>
				<button class="carousel-control-prev" type="button" data-bs-target="#unplash-carousel" data-bs-slide="prev">
    					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
    					<span class="visually-hidden">Previous</span>
  				</button>
  				<button lass="carousel-control-next" type="button" data-bs-target="#unplash-carousel" data-bs-slide="next">
    					<span class="carousel-control-next-icon" aria-hidden="true"></span>
    					<span class="visually-hidden">Next</span>
  				</button>
			</div>
		</div>
	</div>

	<!-- Vue -->
	<script src="https://unpkg.com/vue@next"></script>
	<!-- Axios -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.9.1/axios.js"></script>
	<!-- Bootstrap -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<!-- Custom -->
	<script src="index.js"></script>
</body>
</html>